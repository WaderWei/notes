### 事务机制

> transaction,事务是一个或或多个sql组成的整体，要么全部执行成功，要么全部执行失败。



* 避免写入直接操作数据库文件，遇到突发事件无法恢复数据

  ![1570267236750](H:\gitwork\notes\VMware\事务机制.assets\1570267236750.png)

* 利用日志来实现间接写入

  ![1570267330813](H:\gitwork\notes\VMware\事务机制.assets\1570267330813.png)

#### 事务的特性

​	![1570267606581](H:\gitwork\notes\VMware\事务机制.assets\1570267606581.png)

1. 原子性：一个事务中的所有操作要么全部完成，要么全部失败。事务执行后，不允许停留在中间某个状态。
2. 一致性：不管在任何给定的时间、并发事务有多少，事务必须保证运行结果的一致性。
3. 隔离性：不同事务之间不存在相互影响，默认情况下A事务只能看日志中该事务的相关数据
4.  持久性：事务一旦提交，结果是永久的。 

